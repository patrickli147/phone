{"remainingRequest":"C:\\Users\\Lenovo\\Desktop\\新建文件夹\\phone\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Lenovo\\Desktop\\新建文件夹\\phone\\src\\components\\Picture.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Lenovo\\Desktop\\新建文件夹\\phone\\src\\components\\Picture.vue","mtime":1588930164525},{"path":"C:\\Users\\Lenovo\\Desktop\\新建文件夹\\phone\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Lenovo\\Desktop\\新建文件夹\\phone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lenovo\\Desktop\\新建文件夹\\phone\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge21hcEdldHRlcnMsIG1hcE11dGF0aW9uc30gZnJvbSAndnVleCc7DQppbXBvcnQgVG9wYmFyIGZyb20gJ0AvY29tcG9uZW50cy9Ub3BiYXInOw0KaW1wb3J0IE1vZGFsIGZyb20gJ0AvY29tcG9uZW50cy9Nb2RhbCc7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBtb3VudGVkKCkgew0KICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuZ2l2ZW5EYXRhKTsNCiAgICB9LA0KICAgIHByb3BzOiB7DQogICAgICAgIGdpdmVuRGF0YTogT2JqZWN0LA0KICAgICAgICBnaXZlbkluZGV4OiBOdW1iZXIsDQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgLy9jdXJyZW50IGluZGV4IG9mIHRoZSBwaWN0dXJlDQogICAgICAgICAgICBpbmRleDogdGhpcy5naXZlbkluZGV4LA0KICAgICAgICAgICAgLy9sZWZ0IG9mIHBpY3R1cmUgd3JhcA0KICAgICAgICAgICAgbGVmdDogMCwNCiAgICAgICAgICAgIC8vdG9wIG9mIHBpY3R1cmUgd3JhcA0KICAgICAgICAgICAgdG9wOiAwLA0KICAgICAgICAgICAgLy9pcyBtb3VzZSBldmVudCBzdGFydGVkDQogICAgICAgICAgICBpc1N0YXJ0ZWQ6IGZhbHNlLA0KICAgICAgICAgICAgLy9zdGFydCB4IG9mIG1vdXNlZG93bg0KICAgICAgICAgICAgc3RhcnRYOiAwLA0KICAgICAgICAgICAgLy9zdGFydCB5IG9mIG1vdXNlZG93bg0KICAgICAgICAgICAgc3RhcnRZOiAwLA0KICAgICAgICAgICAgLy9kaXJlY3Rpb24gb2Ygc3dpcGUNCiAgICAgICAgICAgIGRpcmVjdGlvbjogJ25vZGlyZWN0aW9uJywNCiAgICAgICAgICAgIC8vaXMgaG9yaXpvbnRhbA0KICAgICAgICAgICAgaXNIb3Jpem9udGFsOiB0cnVlLA0KICAgICAgICAgICAgLy9pcyBtYWluIGltZyBjbGlja2VkDQogICAgICAgICAgICBpc01haW5JbWdDbGlja2VkOiBmYWxzZSwNCiAgICAgICAgICAgIC8vaXNNb2RhbFNob3duDQogICAgICAgICAgICBpc01vZGFsU2hvd246IGZhbHNlLA0KICAgICAgICAgICAgLy9vcGFjaXR5IG9mIHRoZSBiZyDog4zmma/omZrljJYNCiAgICAgICAgICAgIGJnT3BhY2l0eTogMSwNCiAgICAgICAgICAgIC8vZGF0YSBmcm9tIHBhcmVudA0KICAgICAgICAgICAgZGF0YUZyb21QYXJlbnQ6IHRoaXMuZ2l2ZW5EYXRhLA0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIC8vbWFwIG11dGF0aW9ucw0KICAgICAgICAuLi5tYXBNdXRhdGlvbnMoew0KICAgICAgICAgICAgdXBkYXRlUGljdHVyZXM6ICdVUERBVEVfUElDVFVSRVMnDQogICAgICAgIH0pLA0KICAgICAgICAvL2NhbmNlbCBkcmFnIGV2ZW50DQogICAgICAgIGNhbmNlbERyYWcoZSkgew0KICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICB9LA0KICAgICAgICAvL2NoYW5nZSBjdXJyZW50IGluZGV4IHdoZW4gY2xpY2tlZA0KICAgICAgICBoYW5kbGVDaG9zZW4oaW5kZXgxKSB7DQogICAgICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXgxOw0KICAgICAgICB9LA0KICAgICAgICAvL2hhbmRsZUJhY2tJY29uQ2xpY2tlZDog5ZGK6K+J54i257uE5Lu26L+U5ZueDQogICAgICAgIGhhbmRsZUJhY2tJY29uQ2xpY2tlZCgpIHsNCiAgICAgICAgICAgIC8vVE9ETw0KICAgICAgICAgICAgLy9zZXQgaW5kZXgNCg0KICAgICAgICAgICAgdGhpcy4kZW1pdCgiYmFja0ljb25DbGlja2VkIik7DQogICAgICAgIH0sDQogICAgICAgIC8vcm91dGVUb1Bob3Rvcw0KICAgICAgICByb3V0ZVRvUGhvdG9zKCkgew0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9waG9uZS9hbGJ1bXMnKTsNCiAgICAgICAgfSwNCiAgICAgICAgLy9oYW5kbGUgbW91c2Vkb3duIG9uIG1haW4gaW1nDQogICAgICAgIGhhbmRsZU1vdXNlZG93bihlKSB7DQogICAgICAgICAgICAvL+iusOW9lei1t+Wni+WdkOaghw0KICAgICAgICAgICAgdGhpcy5pc1N0YXJ0ZWQgPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy5zdGFydFggPSBlLnBhZ2VYOw0KICAgICAgICAgICAgdGhpcy5zdGFydFkgPSBlLnBhZ2VZOw0KICAgICAgICB9LA0KICAgICAgICAvL2hhbmRsZSBtb3VzZW1vdmUgb24gbWFpbiBpbWcNCiAgICAgICAgaGFuZGxlTW91c2Vtb3ZlKGUpIHsNCiAgICAgICAgICAgIGlmICghdGhpcy5pc1N0YXJ0ZWQpIHsNCiAgICAgICAgICAgICAgICAvL+W9k+ayoeacieaMieS4i+m8oOagh+aXtu+8jOebtOaOpei/lOWbng0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxldCBjdXJyZW50WCA9IGUucGFnZVg7DQogICAgICAgICAgICBsZXQgY3VycmVudFkgPSBlLnBhZ2VZOw0KICAgICAgICAgICAgbGV0IG9mZnNldFggPSBNYXRoLmFicyhjdXJyZW50WCAtIHRoaXMuc3RhcnRYKTsNCiAgICAgICAgICAgIGxldCBvZmZzZXRZID0gTWF0aC5hYnMoY3VycmVudFkgLSB0aGlzLnN0YXJ0WSk7DQoNCiAgICAgICAgICAgIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ25vZGlyZWN0aW9uJyAmJiAob2Zmc2V0WCA+IDEwIHx8IG9mZnNldFkgPiAxMCkpIHsNCiAgICAgICAgICAgICAgICAvL+S7u+aEj+S4gOS4quaWueWQkeeahOS9jeenu+i+vuWIsDEwcHjku6XkuIos5Yik5pat5piv5bem5Y+z5ruR5Yqo6L+Y5piv5LiK5LiL5ruR5YqoDQogICAgICAgICAgICAgICAgaWYgKG9mZnNldFggPiBvZmZzZXRZKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5Yik5a6a5Li65bem5Y+z5ruR5YqoDQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxlZnQgPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9ICdyaWdodCc7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9ICdsZWZ0JzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLmlzSG9yaXpvbnRhbCA9IHRydWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAvL+WIpOWumuS4uuS4iuS4i+a7keWKqA0KICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50b3AgPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9ICdkb3duJzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gJ3VwJzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLmlzSG9yaXpvbnRhbCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIC8v5pa55ZCR5bey57uP56Gu5a6aDQogICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAndXAnIHx8IHRoaXMuZGlyZWN0aW9uID09PSAnZG93bicpIHsNCiAgICAgICAgICAgICAgICAgICAgLy/nq5bnm7Tmu5HliqjpnIDopoHogIPomZF55pa55ZCR55qE5L2N56e7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudG9wID0gY3VycmVudFkgLSB0aGlzLnN0YXJ0WTsNCiAgICAgICAgICAgICAgICAgICAgLy/lkIzml7bpnIDopoHog4zmma/omZrljJYNCiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMudG9wKSA+IDI3MCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy/mnIDlsI/nmoRvcGFjaXR55Li6MC4xDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJnT3BhY2l0eSA9IDAuMTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmdPcGFjaXR5ID0gMSAtIChNYXRoLmFicyh0aGlzLnRvcCkgLyAzMDApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8veOaWueWQkeeahOS9jeenu+Wni+e7iOimgeiAg+iZkQ0KICAgICAgICAgICAgICAgIHRoaXMubGVmdCA9IGN1cnJlbnRYIC0gdGhpcy5zdGFydFg7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vaGFuZGxlIG1vdXNldXA6IGVuZCBvZiBzd2lwZQ0KICAgICAgICBhc3luYyBoYW5kbGVNb3VzZXVwKCkgew0KICAgICAgICAgICAgLy9yZXNldCBiZ09wYWNpdHkNCiAgICAgICAgICAgIHRoaXMuYmdPcGFjaXR5ID0gMTsNCg0KICAgICAgICAgICAgLy/msqHmnInlj5HnlJ/np7vliqjvvIzop4bkuLpjbGljaw0KICAgICAgICAgICAgaWYgKHRoaXMubGVmdCA9PT0gMCAmJiB0aGlzLnRvcCA9PT0gMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTWFpbkltZ0NsaWNrZWQoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy/mu5Hliqjnu5PmnZ8NCiAgICAgICAgICAgIHRoaXMuaXNTdGFydGVkID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLnN0YXJ0WCA9IDA7DQogICAgICAgICAgICB0aGlzLnN0YXJ0WSA9IDA7DQoNCiAgICAgICAgICAgIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ2xlZnQnIHx8IHRoaXMuZGlyZWN0aW9uID09PSAncmlnaHQnKSB7DQogICAgICAgICAgICAgICAgLy/lt6blj7Pmu5HliqgNCiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5sZWZ0KSA8IDEwMCkgew0KICAgICAgICAgICAgICAgICAgICAvL+a7keWKqOi3neemu+S4jei2szEwMHB477yM6KeG5Li65peg5pWI55qE5ruR5YqoDQogICAgICAgICAgICAgICAgICAgIHRoaXMubGVmdCA9IDA7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAvL+a7keWKqOacieaViCznu5nlh7rmnIDnu4jmu5HliqjmlrnlkJHvvIzlubbmiafooYzmu5Hliqjlk43lupQNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGVmdCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlU3dpcGUoJ3JpZ2h0Jyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZVN3aXBlKCdsZWZ0Jyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAvL+erluebtOaWueWQkea7keWKqO+8jOebuOW9k+S6juaMieS4i+i/lOWbnuaMiemSrg0KICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnRvcCkgPiA1MCkgew0KICAgICAgICAgICAgICAgICAgICAvL+mcgOimgei2s+Wkn+eahOenu+WKqOi3neemuw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUJhY2tJY29uQ2xpY2tlZCgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy/ph43nva4NCiAgICAgICAgICAgIHRoaXMubGVmdCA9IDA7DQogICAgICAgICAgICB0aGlzLnRvcCA9IDA7DQogICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9ICdub2RpcmVjdGlvbic7DQogICAgICAgIH0sDQogICAgICAgIC8vaGFuZGxlIG1vdXNlbGVhdmUgbWFpbiBpbWcNCiAgICAgICAgaGFuZGxlTW91c2VsZWF2ZSgpIHsNCiAgICAgICAgICAgIGlmICghdGhpcy5pc1N0YXJ0ZWQpIHsNCiAgICAgICAgICAgICAgICAvL+a7keWKqOayoeacieW8gOWniw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIC8v562J5ZCM5LqObW91c2V1cA0KICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTW91c2V1cCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvL2hhbmRsZSBzd2lwZSBhY3Rpb24NCiAgICAgICAgYXN5bmMgaGFuZGxlU3dpcGUoZGlyZWN0aW9uKSB7DQogICAgICAgICAgICAvL+WPqumcgOimgeWkhOeQhuW3puWPs+a7keWKqA0KICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7DQogICAgICAgICAgICAgICAgLy/lpITnkIblt6bmu5HliqgNCg0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmluZGV4IDwgdGhpcy5kYXRhRnJvbVBhcmVudC51cmxzLmxlbmd0aCAtIDEpIHsNCiAgICAgICAgICAgICAgICAgICAgLy/liankvZnliqjnlLsNCiAgICAgICAgICAgICAgICAgICAgZm9yICg7IHRoaXMubGVmdCA+IC0zNTA7KSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sZWZ0IC0gMTAgPCAtMzUwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZWZ0ID0gLTM1MDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGVmdCAtPSAxMDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIC8v5bu25pe2DQogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIC8v5pu05pawaW5kZXgNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleCArKzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJyZXR1cm5lZCIpDQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAvL+WkhOeQhuWPs+a7keWKqA0KDQogICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5kZXggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5Ymp5L2Z5Yqo55S7DQogICAgICAgICAgICAgICAgICAgIGZvciAoOyB0aGlzLmxlZnQgPCAzNTA7KSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sZWZ0ICsgMTAgPiAzNTApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxlZnQgPSAzNTA7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxlZnQgKz0gMTA7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAvL+W7tuaXtg0KICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAvL+abtOaWsGluZGV4DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXggLS07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvL2hhbmRsZU1haW5JbWdDbGlja2VkDQogICAgICAgIGhhbmRsZU1haW5JbWdDbGlja2VkKCkgew0KICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmluZGV4KTsNCiAgICAgICAgICAgIHRoaXMuaXNNYWluSW1nQ2xpY2tlZCA9ICF0aGlzLmlzTWFpbkltZ0NsaWNrZWQ7DQogICAgICAgIH0sDQogICAgICAgIC8vaGFuZGxlTGlrZUNsaWNrZWQ6IHVzZXIgbGlrZSBvciB1bmxpa2UNCiAgICAgICAgaGFuZGxlTGlrZUNsaWNrZWQoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5naXZlbkRhdGEubmFtZSA9PT0gJ+ebuOacuuiDtuWNtycpIHsNCiAgICAgICAgICAgICAgICAvL+WkhOeQhnBpY3R1cmVzDQogICAgICAgICAgICAgICAgbGV0IHBpY3R1cmVzMSA9IHRoaXMucGljdHVyZXM7DQogICAgICAgICAgICAgICAgcGljdHVyZXMxW3RoaXMuaW5kZXhdLmlzTGlrZWQgPSAhcGljdHVyZXMxW3RoaXMuaW5kZXhdLmlzTGlrZWQ7DQogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQaWN0dXJlcyhwaWN0dXJlczEpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICAvL+WkhOeQhmRhdGEgZnJvbSBwYXJlbnQNCiAgICAgICAgICAgIHRoaXMuZGF0YUZyb21QYXJlbnQudXJsc1t0aGlzLmluZGV4XS5pc0xpa2VkID0gIXRoaXMuZGF0YUZyb21QYXJlbnQudXJsc1t0aGlzLmluZGV4XS5pc0xpa2VkOw0KICAgICAgICB9LA0KICAgICAgICAvL2hhbmRsZURlbGV0ZUNsaWNrZWQ6IGRlbGV0ZSBjdXJyZW50IHBpY3R1cmUNCiAgICAgICAgaGFuZGxlRGVsZXRlQ2xpY2tlZCgpIHsNCiAgICAgICAgICAgIC8vc2hvdyBtb2RhbA0KICAgICAgICAgICAgdGhpcy5pc01vZGFsU2hvd24gPSB0cnVlOw0KICAgICAgICB9LA0KICAgICAgICAvL2hhbmRsZU1vZGFsRXZlbnQ6IGV2ZW50IGZyb20gTW9kYWwudnVlDQogICAgICAgIGhhbmRsZU1vZGFsRXZlbnQoZSkgew0KICAgICAgICAgICAgLy91bnNob3cgbW9kYWwNCiAgICAgICAgICAgIHRoaXMuaXNNb2RhbFNob3duID0gZmFsc2U7DQoNCiAgICAgICAgICAgIGlmIChlLmV2ZW50TXNnID09PSAnY29uZmlybWVkJykgew0KICAgICAgICAgICAgICAgIC8v5Yig6Zmk56Gu6K6kDQogICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2l2ZW5EYXRhLm5hbWUgPT09ICfnm7jmnLrog7bljbcnKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5aSE55CGcGljdHVyZXMNCiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1BpY3R1cmVzID0gdGhpcy5waWN0dXJlcy5maWx0ZXIoKGl0ZW0sIGluZGV4KT0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhKHRoaXMuaW5kZXggPT09IGluZGV4KTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBpY3R1cmVzKG5ld1BpY3R1cmVzKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgLy/lpITnkIZkYXRhIGZyb20gcGFyZW50DQogICAgICAgICAgICAgICAgdGhpcy5kYXRhRnJvbVBhcmVudC51cmxzID0gdGhpcy5kYXRhRnJvbVBhcmVudC51cmxzLmZpbHRlcigoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEodGhpcy5pbmRleCA9PT0gaW5kZXgpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgLy/liKDpmaTlj5bmtogNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vaGFuZGxlU2Nyb2xsDQogICAgICAgIGhhbmRsZVNjcm9sbChlKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsNCiAgICAgICAgfQ0KICAgIH0sDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgICAgLy9jdXJyZW50IHNyYyBvZiBpbWcNCiAgICAgICAgY3NyYygpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQaWN0dXJlT2JqKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFBpY3R1cmVPYmouY3NyYzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIHJldHVybiAnJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy9jdXJyZW50IHBpY3R1cmUgb2JqIA0KICAgICAgICBjdXJyZW50UGljdHVyZU9iaigpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmRhdGFGcm9tUGFyZW50LnVybHMpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhRnJvbVBhcmVudC51cmxzW3RoaXMuaW5kZXhdOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHt9Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvL2lzIGN1cnJlbnQgcGljdHVyZSBsaWtlZA0KICAgICAgICBpc0xpa2VkKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBpY3R1cmVPYmopIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50UGljdHVyZU9iai5pc0xpa2VkOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvL2N1cnJlbnQgZGF0ZSBvYmoNCiAgICAgICAgY3VycmVudERhdGVPYmooKSB7DQogICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGljdHVyZU9iaikgew0KICAgICAgICAgICAgICAgIGxldCBuYW1lID0gdGhpcy5jdXJyZW50UGljdHVyZU9iai5uYW1lOw0KICAgICAgICAgICAgICAgIGxldCBkYXRlID0gbmV3IERhdGUobmFtZSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGRhdGU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy9jdXJyZW50IHBhdGggDQogICAgICAgIGN1cnJlbnRQYXRoKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnBhdGg7DQogICAgICAgIH0sDQogICAgICAgIC8vbWFwIGdldHRlcnMNCiAgICAgICAgLi4ubWFwR2V0dGVycyhbDQogICAgICAgICAgICAncGljdHVyZXMnDQogICAgICAgIF0pDQogICAgfSwNCiAgICB3YXRjaDogew0KICAgICAgICBnaXZlbkRhdGEoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5naXZlbkRhdGEubmFtZSA9PT0gJ+ebuOacuuiDtuWNtycpIHsNCiAgICAgICAgICAgICAgICBsZXQgdGVtcE9iaiA9IHsNCiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ+ebuOacuuiDtuWNtycsDQogICAgICAgICAgICAgICAgICAgIHVybHM6IHRoaXMucGljdHVyZXMNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIHRoaXMuZGF0YUZyb21QYXJlbnQgPSBPYmplY3QuYXNzaWduKHt9LCB0ZW1wT2JqKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy5naXZlbkRhdGEpOw0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5kYXRhRnJvbVBhcmVudCA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2l2ZW5EYXRhKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICB9LA0KICAgICAgICBnaXZlbkluZGV4KCkgew0KICAgICAgICAgICAgdGhpcy5pbmRleCA9IHRoaXMuZ2l2ZW5JbmRleDsNCiAgICAgICAgfQ0KICAgIH0sDQogICAgY29tcG9uZW50czogew0KICAgICAgICBUb3BiYXIsDQogICAgICAgIE1vZGFsDQogICAgfQ0KfQ0K"},{"version":3,"sources":["Picture.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Picture.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"picture-wrap\" :style=\"`opacity:${bgOpacity};`\" >\r\n        <topbar class=\"topbar\" :isBlack=\"(!!'')\"></topbar>\r\n        <div class=\"picture\" v-if=\"dataFromParent.urls\">\r\n            <div class=\"infobar\">\r\n                <div class=\"backicon\" @click=\"handleBackIconClicked\" @dragstart=\"cancelDrag\">\r\n                    <img src=\"../assets/left.png\" alt=\"<\">\r\n                </div>\r\n                <div class=\"timeinfo\">\r\n                    <div class=\"date\">{{currentDateObj.getMonth()}}月{{currentDateObj.getDate()}}日</div>\r\n                    <div class=\"time\">{{currentDateObj.getHours()}}:{{currentDateObj.getMinutes()}}</div>\r\n                </div>\r\n                <div class=\"edit\" v-if=\"currentPath === '/phone/albums'\">\r\n                    编辑\r\n                </div>\r\n                <div class=\"to-photos\" v-if=\"currentPath === '/phone/camera'\" @click=\"routeToPhotos\">所有照片</div>\r\n            </div>\r\n\r\n            <div class=\"main-img\"\r\n                @mousedown=\"handleMousedown\"\r\n                @mousemove=\"handleMousemove\"\r\n                @mouseup=\"handleMouseup\"\r\n                @mouseleave=\"handleMouseleave\"\r\n            >\r\n                <div \r\n                    class=\"img-wrap\" \r\n                    :style=\"`left:${left - 350}px;top:${top}px`\" \r\n                    v-if=\"isHorizontal && index > 0\"\r\n                >\r\n                    <img :src=\"index > 0 ? dataFromParent.urls[index - 1].csrc : ''\" alt=\"...\">\r\n                </div>\r\n\r\n                <div class=\"img-wrap\" :style=\"`left:${left}px;top:${top}px`\" v-if=\"dataFromParent.urls.length\">\r\n                    <img :src=\"csrc\" alt=\"加载失败\" @dragstart=\"cancelDrag($event)\" >\r\n                </div> \r\n\r\n                <div \r\n                    class=\"img-wrap\" \r\n                    :style=\"`left:${left + 350}px;top:${top}px`\" \r\n                    v-if=\"isHorizontal && index < (dataFromParent.urls.length - 1)\"\r\n                >\r\n                    <img :src=\"index < (dataFromParent.urls.length - 1) ? dataFromParent.urls[index + 1].csrc : ''\" alt=\"...\">\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"scroll-bar\"  id=\"scroll-bar\" @scroll=\"handleScroll\">\r\n                <div class=\"scroll-wrap\" :style=\"`left:${(9 - index) * 17}px;`\">\r\n                    <div\r\n                        v-for=\"(item, index1) in dataFromParent.urls\"\r\n                        :key=\"item.name\"\r\n                        :class=\"index1 === index ? 'picture-item-current' : 'picture-item'\"\r\n                        @click=\"handleChosen(index1)\"\r\n                    >\r\n                        <img :src=\"item.csrc\" alt=\"...\" @dragstart=\"cancelDrag($event)\" >\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n\r\n            <div class=\"bottombar\">\r\n                <div class=\"share\" @dragstart=\"cancelDrag\">\r\n                    <img src=\"../assets/share.png\" alt=\"...\">\r\n                </div>\r\n                <div class=\"like\" @click=\"handleLikeClicked\" @dragstart=\"cancelDrag\">\r\n                    <img v-if=\"isLiked\" src=\"../assets/heart-full.png\" alt=\"...\">\r\n                    <img v-else src=\"../assets/heart.png\" alt=\"...\">\r\n                </div>\r\n                <div class=\"delete\" @click=\"handleDeleteClicked\" @dragstart=\"cancelDrag\">\r\n                    <img src=\"../assets/delete.png\" alt=\"...\">\r\n                </div>\r\n                <Modal confirmMsg=\"删除照片\" cancelMsg=\"取消\" :isShown=\"isModalShown\" @modalEvent=\"handleModalEvent\"></Modal>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n</template>\r\n\r\n<script>\r\nimport {mapGetters, mapMutations} from 'vuex';\r\nimport Topbar from '@/components/Topbar';\r\nimport Modal from '@/components/Modal';\r\n\r\nexport default {\r\n    mounted() {\r\n        //console.log(this.givenData);\r\n    },\r\n    props: {\r\n        givenData: Object,\r\n        givenIndex: Number,\r\n    },\r\n    data() {\r\n        return {\r\n            //current index of the picture\r\n            index: this.givenIndex,\r\n            //left of picture wrap\r\n            left: 0,\r\n            //top of picture wrap\r\n            top: 0,\r\n            //is mouse event started\r\n            isStarted: false,\r\n            //start x of mousedown\r\n            startX: 0,\r\n            //start y of mousedown\r\n            startY: 0,\r\n            //direction of swipe\r\n            direction: 'nodirection',\r\n            //is horizontal\r\n            isHorizontal: true,\r\n            //is main img clicked\r\n            isMainImgClicked: false,\r\n            //isModalShown\r\n            isModalShown: false,\r\n            //opacity of the bg 背景虚化\r\n            bgOpacity: 1,\r\n            //data from parent\r\n            dataFromParent: this.givenData,\r\n        }\r\n    },\r\n    methods: {\r\n        //map mutations\r\n        ...mapMutations({\r\n            updatePictures: 'UPDATE_PICTURES'\r\n        }),\r\n        //cancel drag event\r\n        cancelDrag(e) {\r\n            e.preventDefault();\r\n        },\r\n        //change current index when clicked\r\n        handleChosen(index1) {\r\n            this.index = index1;\r\n        },\r\n        //handleBackIconClicked: 告诉父组件返回\r\n        handleBackIconClicked() {\r\n            //TODO\r\n            //set index\r\n\r\n            this.$emit(\"backIconClicked\");\r\n        },\r\n        //routeToPhotos\r\n        routeToPhotos() {\r\n            this.$router.push('/phone/albums');\r\n        },\r\n        //handle mousedown on main img\r\n        handleMousedown(e) {\r\n            //记录起始坐标\r\n            this.isStarted = true;\r\n            this.startX = e.pageX;\r\n            this.startY = e.pageY;\r\n        },\r\n        //handle mousemove on main img\r\n        handleMousemove(e) {\r\n            if (!this.isStarted) {\r\n                //当没有按下鼠标时，直接返回\r\n                return;\r\n            }\r\n            let currentX = e.pageX;\r\n            let currentY = e.pageY;\r\n            let offsetX = Math.abs(currentX - this.startX);\r\n            let offsetY = Math.abs(currentY - this.startY);\r\n\r\n            if (this.direction === 'nodirection' && (offsetX > 10 || offsetY > 10)) {\r\n                //任意一个方向的位移达到10px以上,判断是左右滑动还是上下滑动\r\n                if (offsetX > offsetY) {\r\n                    //判定为左右滑动\r\n                    if (this.left > 0) {\r\n                        this.direction = 'right';\r\n                    }\r\n                    else {\r\n                        this.direction = 'left';\r\n                    }\r\n                    this.isHorizontal = true;\r\n                }\r\n                else {\r\n                    //判定为上下滑动\r\n                    if (this.top > 0) {\r\n                        this.direction = 'down';\r\n                    }\r\n                    else {\r\n                        this.direction = 'up';\r\n                    }\r\n                    this.isHorizontal = false;\r\n                }\r\n            }\r\n            else {\r\n                //方向已经确定\r\n                if (this.direction === 'up' || this.direction === 'down') {\r\n                    //竖直滑动需要考虑y方向的位移\r\n                    this.top = currentY - this.startY;\r\n                    //同时需要背景虚化\r\n                    if (Math.abs(this.top) > 270) {\r\n                        //最小的opacity为0.1\r\n                        this.bgOpacity = 0.1;\r\n                    }\r\n                    else {\r\n                        this.bgOpacity = 1 - (Math.abs(this.top) / 300);\r\n                    }\r\n                }\r\n                //x方向的位移始终要考虑\r\n                this.left = currentX - this.startX;\r\n            }\r\n        },\r\n        //handle mouseup: end of swipe\r\n        async handleMouseup() {\r\n            //reset bgOpacity\r\n            this.bgOpacity = 1;\r\n\r\n            //没有发生移动，视为click\r\n            if (this.left === 0 && this.top === 0) {\r\n                this.handleMainImgClicked();\r\n            }\r\n            \r\n            //滑动结束\r\n            this.isStarted = false;\r\n            this.startX = 0;\r\n            this.startY = 0;\r\n\r\n            if (this.direction === 'left' || this.direction === 'right') {\r\n                //左右滑动\r\n                if (Math.abs(this.left) < 100) {\r\n                    //滑动距离不足100px，视为无效的滑动\r\n                    this.left = 0;\r\n                }\r\n                else {\r\n                    //滑动有效,给出最终滑动方向，并执行滑动响应\r\n                    if (this.left > 0) {\r\n                        await this.handleSwipe('right');\r\n                    }\r\n                    else {\r\n                        await this.handleSwipe('left');\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                //竖直方向滑动，相当于按下返回按钮\r\n                if (Math.abs(this.top) > 50) {\r\n                    //需要足够的移动距离\r\n                    this.handleBackIconClicked();\r\n                }\r\n            }\r\n\r\n            //重置\r\n            this.left = 0;\r\n            this.top = 0;\r\n            this.direction = 'nodirection';\r\n        },\r\n        //handle mouseleave main img\r\n        handleMouseleave() {\r\n            if (!this.isStarted) {\r\n                //滑动没有开始\r\n                return;\r\n            }\r\n            else {\r\n                //等同于mouseup\r\n                this.handleMouseup();\r\n            }\r\n        },\r\n        //handle swipe action\r\n        async handleSwipe(direction) {\r\n            //只需要处理左右滑动\r\n            if (direction === 'left') {\r\n                //处理左滑动\r\n\r\n                if (this.index < this.dataFromParent.urls.length - 1) {\r\n                    //剩余动画\r\n                    for (; this.left > -350;) {\r\n                        if (this.left - 10 < -350) {\r\n                            this.left = -350;\r\n                        }\r\n                        else {\r\n                            this.left -= 10;\r\n                        }\r\n                        //延时\r\n                        await new Promise((resolve) => {\r\n                            setTimeout(resolve, 1);\r\n                        });\r\n                    }\r\n\r\n                    //更新index\r\n                    this.index ++;\r\n                }\r\n                else {\r\n                    console.log(\"returned\")\r\n                    return;\r\n                }\r\n            }\r\n            else {\r\n                //处理右滑动\r\n\r\n                if (this.index > 0) {\r\n                    //剩余动画\r\n                    for (; this.left < 350;) {\r\n                        if (this.left + 10 > 350) {\r\n                            this.left = 350;\r\n                        }\r\n                        else {\r\n                            this.left += 10;\r\n                        }\r\n                        //延时\r\n                        await new Promise((resolve) => {\r\n                            setTimeout(resolve, 1);\r\n                        });\r\n                    }\r\n\r\n                    //更新index\r\n                    this.index --;\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n        },\r\n        //handleMainImgClicked\r\n        handleMainImgClicked() {\r\n            //console.log(this.index);\r\n            this.isMainImgClicked = !this.isMainImgClicked;\r\n        },\r\n        //handleLikeClicked: user like or unlike\r\n        handleLikeClicked() {\r\n            if (this.givenData.name === '相机胶卷') {\r\n                //处理pictures\r\n                let pictures1 = this.pictures;\r\n                pictures1[this.index].isLiked = !pictures1[this.index].isLiked;\r\n                this.updatePictures(pictures1);\r\n            }\r\n            \r\n            //处理data from parent\r\n            this.dataFromParent.urls[this.index].isLiked = !this.dataFromParent.urls[this.index].isLiked;\r\n        },\r\n        //handleDeleteClicked: delete current picture\r\n        handleDeleteClicked() {\r\n            //show modal\r\n            this.isModalShown = true;\r\n        },\r\n        //handleModalEvent: event from Modal.vue\r\n        handleModalEvent(e) {\r\n            //unshow modal\r\n            this.isModalShown = false;\r\n\r\n            if (e.eventMsg === 'confirmed') {\r\n                //删除确认\r\n                if (this.givenData.name === '相机胶卷') {\r\n                    //处理pictures\r\n                    let newPictures = this.pictures.filter((item, index)=> {\r\n                        return !(this.index === index);\r\n                    });\r\n                    \r\n                    this.updatePictures(newPictures);\r\n                }\r\n                \r\n                //处理data from parent\r\n                this.dataFromParent.urls = this.dataFromParent.urls.filter((item, index) => {\r\n                    return !(this.index === index);\r\n                });\r\n            }\r\n            else {\r\n                //删除取消\r\n                return;\r\n            }\r\n        },\r\n        //handleScroll\r\n        handleScroll(e) {\r\n            console.log(e);\r\n        }\r\n    },\r\n    computed: {\r\n        //current src of img\r\n        csrc() {\r\n            if (this.currentPictureObj) {\r\n                return this.currentPictureObj.csrc;\r\n            }\r\n            else {\r\n                return '';\r\n            }\r\n        },\r\n        //current picture obj \r\n        currentPictureObj() {\r\n            if (this.dataFromParent.urls) {\r\n                return this.dataFromParent.urls[this.index];\r\n            }\r\n            else {\r\n                return {};\r\n            }\r\n        },\r\n        //is current picture liked\r\n        isLiked() {\r\n            if (this.currentPictureObj) {\r\n                return this.currentPictureObj.isLiked;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        },\r\n        //current date obj\r\n        currentDateObj() {\r\n            if (this.currentPictureObj) {\r\n                let name = this.currentPictureObj.name;\r\n                let date = new Date(name);\r\n                return date;\r\n            }\r\n            else {\r\n                return new Date();\r\n            }\r\n        },\r\n        //current path \r\n        currentPath() {\r\n            return this.$route.path;\r\n        },\r\n        //map getters\r\n        ...mapGetters([\r\n            'pictures'\r\n        ])\r\n    },\r\n    watch: {\r\n        givenData() {\r\n            if (this.givenData.name === '相机胶卷') {\r\n                let tempObj = {\r\n                    name: '相机胶卷',\r\n                    urls: this.pictures\r\n                };\r\n                this.dataFromParent = Object.assign({}, tempObj);\r\n            }\r\n            //console.log(this.givenData);\r\n            else {\r\n                this.dataFromParent = Object.assign({}, this.givenData);\r\n            }\r\n            \r\n        },\r\n        givenIndex() {\r\n            this.index = this.givenIndex;\r\n        }\r\n    },\r\n    components: {\r\n        Topbar,\r\n        Modal\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.picture-wrap {\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #fff;\r\n    color: black;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n}\r\n\r\n.picture {\r\n    width: 100%;\r\n    height: 95%;\r\n\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n\r\n    .infobar {\r\n        width: 100%;\r\n        height: 10%;\r\n        color: rgb(18,150,219);\r\n        padding: 2%;\r\n        border-bottom: 1px solid #777;\r\n\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        .backicon {\r\n            width: 30%;\r\n            text-align: left;\r\n            img {\r\n                width: 20px;\r\n                height: 20px;\r\n            }\r\n        }\r\n\r\n        .timeinfo {\r\n            width: 40%;\r\n            color: black;\r\n            .date {\r\n                font-weight: 500;\r\n                font-size: 15px;\r\n            }\r\n\r\n            .time {\r\n                font-size: 10px;\r\n            }\r\n        }\r\n\r\n        .edit {\r\n            width: 30%;\r\n            text-align: right;\r\n        }\r\n\r\n        .to-photos {\r\n            width: 30%;\r\n            text-align: right;\r\n        }\r\n    }\r\n\r\n    .main-img {\r\n        height: 70%;\r\n        width: 100%;\r\n        overflow: hidden;\r\n        position: relative;\r\n        \r\n        .img-wrap {\r\n            width: 100%;\r\n            height: 100%;\r\n            position: absolute;\r\n            img {\r\n                width: 100%;\r\n            }\r\n        }\r\n    }\r\n    \r\n    .scroll-bar {\r\n        width: 100%;\r\n        height: 10%;\r\n        border-top: 1px solid rgba(119, 119, 119, 0.199);\r\n        position: relative;\r\n\r\n        .scroll-wrap {\r\n            width: 100%;\r\n            height: 100%;\r\n            position: absolute;\r\n            top: 0;\r\n\r\n            display: flex;\r\n            justify-content: flex-start;\r\n            align-items: center;\r\n            flex-wrap: nowrap;\r\n            //overflow-x: scroll;\r\n            .picture-item {\r\n                width: 5%;\r\n                height: 100%;\r\n                flex-shrink: 0;\r\n                \r\n                img{\r\n                    width: 100%;\r\n                    height: 100%;\r\n                }\r\n            }\r\n            .picture-item-current {\r\n                width: 10%;\r\n                height: 100%;\r\n                flex-shrink: 0;\r\n                margin-left: 2.5%;\r\n                margin-right: 2.5%;\r\n                \r\n                img{\r\n                    width: 100%;\r\n                    height: 100%;\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n    .scroll-bar::-webkit-scrollbar {\r\n        display:none;\r\n    }\r\n    \r\n    .bottombar {\r\n        height: 10%;\r\n        width: 100%;\r\n        padding: 2%;\r\n\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        .share {\r\n            width:30%;\r\n            height: 100%;\r\n            display: flex;\r\n            justify-content: flex-start;\r\n            align-items: center;\r\n        }\r\n\r\n        .like {\r\n            width:40%;\r\n            height: 100%;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n        }\r\n\r\n        .delete {\r\n            width:30%;\r\n            height: 100%;\r\n            display: flex;\r\n            justify-content: flex-end;\r\n            align-items: center;\r\n        }\r\n\r\n        //统一设置img\r\n        img {\r\n            height: 20px;\r\n            width: 20px;\r\n        }\r\n    }\r\n}\r\n</style>"]}]}