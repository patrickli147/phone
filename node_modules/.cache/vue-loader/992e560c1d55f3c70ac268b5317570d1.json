{"remainingRequest":"C:\\Users\\Lenovo\\Desktop\\demos\\iphone\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Lenovo\\Desktop\\demos\\iphone\\src\\components\\ControlUnit.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Lenovo\\Desktop\\demos\\iphone\\src\\components\\ControlUnit.vue","mtime":1588837451743},{"path":"C:\\Users\\Lenovo\\Desktop\\demos\\iphone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lenovo\\Desktop\\demos\\iphone\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Lenovo\\Desktop\\demos\\iphone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lenovo\\Desktop\\demos\\iphone\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge21hcEdldHRlcnMsIG1hcE11dGF0aW9uc30gZnJvbSAndnVleCcNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnQ29udHJvbFVuaXQnLA0KICBwcm9wczogew0KICAgIGlzUG93ZXJPZmZDb21maXJtZWQ6IEJvb2xlYW4NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICAgIA0KICB9LA0KICBkYXRhKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAvL3RydWU6IGNvbnRyb2wgdW5pdCBpcyBjb2xsYXBzZWQNCiAgICAgICAgICBpc0NvbGxhcHNlZDogZmFsc2UsDQogICAgICAgICAgLy9zdGFydCB0aW1lIG9mIGEgbG9uZyBwcmVzcw0KICAgICAgICAgIHN0YXJ0VGltZTogMA0KICAgICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgICAvL2NoYW5nZSB0aGUgdmFsdWUgb2YgaXNDb2xsYXBzZWQNCiAgICAgIGhhbmRsZUNoYW5nZUNvbGxhcHNlKCkgew0KICAgICAgICAgIHRoaXMuaXNDb2xsYXBzZWQgPSAhdGhpcy5pc0NvbGxhcHNlZDsNCiAgICAgIH0sDQogICAgICAvL2NoYW5nZSB0aGUgdmFsdWUgb2YgaXNMb2NrZWQNCiAgICAgIGNoYW5nZUxvY2tTdGF0ZSgpIHsNCiAgICAgICAgICAvL2NvbnNvbGUubG9nKCJjaGFuZ2UgbG9jayBzdGF0ZSIpDQogICAgICAgICAgaWYgKHRoaXMuaXNMb2NrZWQpIHsNCiAgICAgICAgICAgICAgLy90aGUgcGhvbmUgaXMgbG9ja2VkDQogICAgICAgICAgICAgIC8vdGhpcy4kZW1pdCgnc2hvd1VubG9ja01vZGFsJyk7DQogICAgICAgICAgICAgIGlmICh0aGlzLmlzQmxhY2tTY3JlZW4pIHsNCiAgICAgICAgICAgICAgICAgLy9zaG93IGJsYWNrIHNjcmVlbg0KICAgICAgICAgICAgICAgICB0aGlzLnNldElzQmxhY2tTY3JlZW4oZmFsc2UpOw0KICAgICAgICAgICAgICAgICB0aGlzLnNldElzVW5sb2NrUmVxdWVzdGVkKGZhbHNlKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgIC8vcmVxdWVzdCB0byB1bmxvY2sNCiAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNCbGFja1NjcmVlbih0cnVlKTsNCiAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgDQogICAgICAgICAgfQ0KICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAvL2xvY2sgdGhlIHBob25lIA0KICAgICAgICAgICAgICB0aGlzLnNldElzQmxhY2tTY3JlZW4odHJ1ZSk7DQogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcGhvbmUvbG9ja2VkJyk7DQogICAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIC8vbG9uZ1ByZXNzU3RhcnQNCiAgICAgIGxvbmdQcmVzc1N0YXJ0KCkgew0KICAgICAgICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTsNCiAgICAgICAgICAvL2NvbnNvbGUubG9nKCJzdGFydCIpDQogICAgICB9LA0KICAgICAgLy9sb25nUHJlc3NFbmQNCiAgICAgIGxvbmdQcmVzc0VuZCgpIHsNCiAgICAgICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTsNCiAgICAgICAgICBpZiAoZW5kVGltZSAtIHRoaXMuc3RhcnRUaW1lIDwgMjAwMCkgew0KICAgICAgICAgICAgICAvL3RpbWUgaXMgbm90IGxvbmcgZW5vdWdoDQogICAgICAgICAgICAgIHRoaXMuY2hhbmdlTG9ja1N0YXRlKCk7DQogICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICB9DQogICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgIGlmICghdGhpcy5pc1Bvd2VyZWRPZmYpIHsNCiAgICAgICAgICAgICAgICAgIC8vaWYgcGhvbmUgaXMgb24sIHNlbmQgcmVxdWVzdCB0byBwb3dlciBvZmYNCiAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoInNob3dQb3dlck9mZk1vZGFsIik7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAvL3Bob25lIGlzIHBvd2VyZWQgb2ZmLCB0dXJuIGl0IG9uDQogICAgICAgICAgICAgICAgICB0aGlzLnNldFBvd2Vyb2ZmU3RhdGUoZmFsc2UpOw0KICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgic2hvd1Bvd2VyT25BbmltYXRpb24iKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgIH0sDQogICAgICAuLi5tYXBNdXRhdGlvbnMoew0KICAgICAgICAgIHNldExvY2tTdGF0ZTogJ0xPQ0tfU1RBVEUnLA0KICAgICAgICAgIHNldFBvd2Vyb2ZmU3RhdGU6ICdQT1dFUl9PRkZfU1RBVEUnLA0KICAgICAgICAgIHNldElzVW5sb2NrUmVxdWVzdGVkOiAnU0VUX0lTX1VOTE9DS19SRVFVRVNURUQnLA0KICAgICAgICAgIHNldElzQmxhY2tTY3JlZW46J1NFVF9JU19CTEFDS19TQ1JFRU4nDQogICAgICB9KQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgICAgLi4ubWFwR2V0dGVycyhbDQogICAgICAgICdpc1Bvd2VyZWRPZmYnLA0KICAgICAgICAnaXNMb2NrZWQnLA0KICAgICAgICAnaXNVbmxvY2tSZXF1ZXN0ZWQnLA0KICAgICAgICAnaXNCbGFja1NjcmVlbicNCiAgICAgIF0pDQogIH0NCn0NCg=="},{"version":3,"sources":["ControlUnit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ControlUnit.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"control-unit-wrap\">\r\n    <Button icon=\"ios-arrow-forward\" v-if=\"isCollapsed\" @click=\"handleChangeCollapse\"></Button>  \r\n    <ButtonGroup vertical v-else>\r\n        <Button icon=\"ios-arrow-down\" @click=\"handleChangeCollapse\"></Button>\r\n        <div\r\n            @mousedown=\"longPressStart\"\r\n            @mouseup=\"longPressEnd\"\r\n        >\r\n          <Button icon=\"md-power\"></Button>\r\n        </div>\r\n        \r\n        <Button icon=\"md-add\"></Button>\r\n        <Button icon=\"md-remove\"></Button>\r\n    </ButtonGroup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters, mapMutations} from 'vuex'\r\n\r\nexport default {\r\n  name: 'ControlUnit',\r\n  props: {\r\n    isPowerOffComfirmed: Boolean\r\n  },\r\n  mounted() {\r\n      \r\n  },\r\n  data() {\r\n      return {\r\n          //true: control unit is collapsed\r\n          isCollapsed: false,\r\n          //start time of a long press\r\n          startTime: 0\r\n      }\r\n  },\r\n  methods: {\r\n      //change the value of isCollapsed\r\n      handleChangeCollapse() {\r\n          this.isCollapsed = !this.isCollapsed;\r\n      },\r\n      //change the value of isLocked\r\n      changeLockState() {\r\n          //console.log(\"change lock state\")\r\n          if (this.isLocked) {\r\n              //the phone is locked\r\n              //this.$emit('showUnlockModal');\r\n              if (this.isBlackScreen) {\r\n                 //show black screen\r\n                 this.setIsBlackScreen(false);\r\n                 this.setIsUnlockRequested(false);\r\n              }\r\n              else {\r\n                  //request to unlock\r\n                  this.setIsBlackScreen(true);\r\n              }              \r\n          }\r\n          else {\r\n              //lock the phone \r\n              this.setIsBlackScreen(true);\r\n              this.$router.push('/phone/locked');\r\n          }\r\n      },\r\n      //longPressStart\r\n      longPressStart() {\r\n          this.startTime = Date.now();\r\n          //console.log(\"start\")\r\n      },\r\n      //longPressEnd\r\n      longPressEnd() {\r\n          const endTime = Date.now();\r\n          if (endTime - this.startTime < 2000) {\r\n              //time is not long enough\r\n              this.changeLockState();\r\n              return;\r\n          }\r\n          else {\r\n              if (!this.isPoweredOff) {\r\n                  //if phone is on, send request to power off\r\n                  this.$emit(\"showPowerOffModal\");\r\n              }\r\n              else {\r\n                  //phone is powered off, turn it on\r\n                  this.setPoweroffState(false);\r\n                  this.$emit(\"showPowerOnAnimation\");\r\n              }\r\n          }\r\n      },\r\n      ...mapMutations({\r\n          setLockState: 'LOCK_STATE',\r\n          setPoweroffState: 'POWER_OFF_STATE',\r\n          setIsUnlockRequested: 'SET_IS_UNLOCK_REQUESTED',\r\n          setIsBlackScreen:'SET_IS_BLACK_SCREEN'\r\n      })\r\n  },\r\n  computed: {\r\n      ...mapGetters([\r\n        'isPoweredOff',\r\n        'isLocked',\r\n        'isUnlockRequested',\r\n        'isBlackScreen'\r\n      ])\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n"]}]}