{"remainingRequest":"C:\\Users\\Lenovo\\Desktop\\demos\\iphone\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Lenovo\\Desktop\\demos\\iphone\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Lenovo\\Desktop\\demos\\iphone\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Lenovo\\Desktop\\demos\\iphone\\src\\components\\ControlUnit.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Lenovo\\Desktop\\demos\\iphone\\src\\components\\ControlUnit.vue","mtime":1588837451743},{"path":"C:\\Users\\Lenovo\\Desktop\\demos\\iphone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lenovo\\Desktop\\demos\\iphone\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Lenovo\\Desktop\\demos\\iphone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Lenovo\\Desktop\\demos\\iphone\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzpcXFVzZXJzXFxMZW5vdm9cXERlc2t0b3BcXGRlbW9zXFxpcGhvbmVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb250cm9sVW5pdCcsCiAgcHJvcHM6IHsKICAgIGlzUG93ZXJPZmZDb21maXJtZWQ6IEJvb2xlYW4KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy90cnVlOiBjb250cm9sIHVuaXQgaXMgY29sbGFwc2VkCiAgICAgIGlzQ29sbGFwc2VkOiBmYWxzZSwKICAgICAgLy9zdGFydCB0aW1lIG9mIGEgbG9uZyBwcmVzcwogICAgICBzdGFydFRpbWU6IDAKICAgIH07CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHsKICAgIC8vY2hhbmdlIHRoZSB2YWx1ZSBvZiBpc0NvbGxhcHNlZAogICAgaGFuZGxlQ2hhbmdlQ29sbGFwc2U6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZUNvbGxhcHNlKCkgewogICAgICB0aGlzLmlzQ29sbGFwc2VkID0gIXRoaXMuaXNDb2xsYXBzZWQ7CiAgICB9LAogICAgLy9jaGFuZ2UgdGhlIHZhbHVlIG9mIGlzTG9ja2VkCiAgICBjaGFuZ2VMb2NrU3RhdGU6IGZ1bmN0aW9uIGNoYW5nZUxvY2tTdGF0ZSgpIHsKICAgICAgLy9jb25zb2xlLmxvZygiY2hhbmdlIGxvY2sgc3RhdGUiKQogICAgICBpZiAodGhpcy5pc0xvY2tlZCkgewogICAgICAgIC8vdGhlIHBob25lIGlzIGxvY2tlZAogICAgICAgIC8vdGhpcy4kZW1pdCgnc2hvd1VubG9ja01vZGFsJyk7CiAgICAgICAgaWYgKHRoaXMuaXNCbGFja1NjcmVlbikgewogICAgICAgICAgLy9zaG93IGJsYWNrIHNjcmVlbgogICAgICAgICAgdGhpcy5zZXRJc0JsYWNrU2NyZWVuKGZhbHNlKTsKICAgICAgICAgIHRoaXMuc2V0SXNVbmxvY2tSZXF1ZXN0ZWQoZmFsc2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvL3JlcXVlc3QgdG8gdW5sb2NrCiAgICAgICAgICB0aGlzLnNldElzQmxhY2tTY3JlZW4odHJ1ZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vbG9jayB0aGUgcGhvbmUgCiAgICAgICAgdGhpcy5zZXRJc0JsYWNrU2NyZWVuKHRydWUpOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcGhvbmUvbG9ja2VkJyk7CiAgICAgIH0KICAgIH0sCiAgICAvL2xvbmdQcmVzc1N0YXJ0CiAgICBsb25nUHJlc3NTdGFydDogZnVuY3Rpb24gbG9uZ1ByZXNzU3RhcnQoKSB7CiAgICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTsgLy9jb25zb2xlLmxvZygic3RhcnQiKQogICAgfSwKICAgIC8vbG9uZ1ByZXNzRW5kCiAgICBsb25nUHJlc3NFbmQ6IGZ1bmN0aW9uIGxvbmdQcmVzc0VuZCgpIHsKICAgICAgdmFyIGVuZFRpbWUgPSBEYXRlLm5vdygpOwoKICAgICAgaWYgKGVuZFRpbWUgLSB0aGlzLnN0YXJ0VGltZSA8IDIwMDApIHsKICAgICAgICAvL3RpbWUgaXMgbm90IGxvbmcgZW5vdWdoCiAgICAgICAgdGhpcy5jaGFuZ2VMb2NrU3RhdGUoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKCF0aGlzLmlzUG93ZXJlZE9mZikgewogICAgICAgICAgLy9pZiBwaG9uZSBpcyBvbiwgc2VuZCByZXF1ZXN0IHRvIHBvd2VyIG9mZgogICAgICAgICAgdGhpcy4kZW1pdCgic2hvd1Bvd2VyT2ZmTW9kYWwiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy9waG9uZSBpcyBwb3dlcmVkIG9mZiwgdHVybiBpdCBvbgogICAgICAgICAgdGhpcy5zZXRQb3dlcm9mZlN0YXRlKGZhbHNlKTsKICAgICAgICAgIHRoaXMuJGVtaXQoInNob3dQb3dlck9uQW5pbWF0aW9uIik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgbWFwTXV0YXRpb25zKHsKICAgIHNldExvY2tTdGF0ZTogJ0xPQ0tfU1RBVEUnLAogICAgc2V0UG93ZXJvZmZTdGF0ZTogJ1BPV0VSX09GRl9TVEFURScsCiAgICBzZXRJc1VubG9ja1JlcXVlc3RlZDogJ1NFVF9JU19VTkxPQ0tfUkVRVUVTVEVEJywKICAgIHNldElzQmxhY2tTY3JlZW46ICdTRVRfSVNfQkxBQ0tfU0NSRUVOJwogIH0pKSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ2lzUG93ZXJlZE9mZicsICdpc0xvY2tlZCcsICdpc1VubG9ja1JlcXVlc3RlZCcsICdpc0JsYWNrU2NyZWVuJ10pKQp9Ow=="},{"version":3,"sources":["ControlUnit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA,SAAA,UAAA,EAAA,YAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,mBAAA,EAAA;AADA,GAFA;AAKA,EAAA,OALA,qBAKA,CAEA,CAPA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA;AACA,MAAA,WAAA,EAAA,KAFA;AAGA;AACA,MAAA,SAAA,EAAA;AAJA,KAAA;AAMA,GAfA;AAgBA,EAAA,OAAA;AACA;AACA,IAAA,oBAFA,kCAEA;AACA,WAAA,WAAA,GAAA,CAAA,KAAA,WAAA;AACA,KAJA;AAKA;AACA,IAAA,eANA,6BAMA;AACA;AACA,UAAA,KAAA,QAAA,EAAA;AACA;AACA;AACA,YAAA,KAAA,aAAA,EAAA;AACA;AACA,eAAA,gBAAA,CAAA,KAAA;AACA,eAAA,oBAAA,CAAA,KAAA;AACA,SAJA,MAKA;AACA;AACA,eAAA,gBAAA,CAAA,IAAA;AACA;AACA,OAZA,MAaA;AACA;AACA,aAAA,gBAAA,CAAA,IAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,eAAA;AACA;AACA,KA1BA;AA2BA;AACA,IAAA,cA5BA,4BA4BA;AACA,WAAA,SAAA,GAAA,IAAA,CAAA,GAAA,EAAA,CADA,CAEA;AACA,KA/BA;AAgCA;AACA,IAAA,YAjCA,0BAiCA;AACA,UAAA,OAAA,GAAA,IAAA,CAAA,GAAA,EAAA;;AACA,UAAA,OAAA,GAAA,KAAA,SAAA,GAAA,IAAA,EAAA;AACA;AACA,aAAA,eAAA;AACA;AACA,OAJA,MAKA;AACA,YAAA,CAAA,KAAA,YAAA,EAAA;AACA;AACA,eAAA,KAAA,CAAA,mBAAA;AACA,SAHA,MAIA;AACA;AACA,eAAA,gBAAA,CAAA,KAAA;AACA,eAAA,KAAA,CAAA,sBAAA;AACA;AACA;AACA;AAnDA,KAoDA,YAAA,CAAA;AACA,IAAA,YAAA,EAAA,YADA;AAEA,IAAA,gBAAA,EAAA,iBAFA;AAGA,IAAA,oBAAA,EAAA,yBAHA;AAIA,IAAA,gBAAA,EAAA;AAJA,GAAA,CApDA,CAhBA;AA2EA,EAAA,QAAA,oBACA,UAAA,CAAA,CACA,cADA,EAEA,UAFA,EAGA,mBAHA,EAIA,eAJA,CAAA,CADA;AA3EA,CAAA","sourcesContent":["<template>\r\n  <div class=\"control-unit-wrap\">\r\n    <Button icon=\"ios-arrow-forward\" v-if=\"isCollapsed\" @click=\"handleChangeCollapse\"></Button>  \r\n    <ButtonGroup vertical v-else>\r\n        <Button icon=\"ios-arrow-down\" @click=\"handleChangeCollapse\"></Button>\r\n        <div\r\n            @mousedown=\"longPressStart\"\r\n            @mouseup=\"longPressEnd\"\r\n        >\r\n          <Button icon=\"md-power\"></Button>\r\n        </div>\r\n        \r\n        <Button icon=\"md-add\"></Button>\r\n        <Button icon=\"md-remove\"></Button>\r\n    </ButtonGroup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters, mapMutations} from 'vuex'\r\n\r\nexport default {\r\n  name: 'ControlUnit',\r\n  props: {\r\n    isPowerOffComfirmed: Boolean\r\n  },\r\n  mounted() {\r\n      \r\n  },\r\n  data() {\r\n      return {\r\n          //true: control unit is collapsed\r\n          isCollapsed: false,\r\n          //start time of a long press\r\n          startTime: 0\r\n      }\r\n  },\r\n  methods: {\r\n      //change the value of isCollapsed\r\n      handleChangeCollapse() {\r\n          this.isCollapsed = !this.isCollapsed;\r\n      },\r\n      //change the value of isLocked\r\n      changeLockState() {\r\n          //console.log(\"change lock state\")\r\n          if (this.isLocked) {\r\n              //the phone is locked\r\n              //this.$emit('showUnlockModal');\r\n              if (this.isBlackScreen) {\r\n                 //show black screen\r\n                 this.setIsBlackScreen(false);\r\n                 this.setIsUnlockRequested(false);\r\n              }\r\n              else {\r\n                  //request to unlock\r\n                  this.setIsBlackScreen(true);\r\n              }              \r\n          }\r\n          else {\r\n              //lock the phone \r\n              this.setIsBlackScreen(true);\r\n              this.$router.push('/phone/locked');\r\n          }\r\n      },\r\n      //longPressStart\r\n      longPressStart() {\r\n          this.startTime = Date.now();\r\n          //console.log(\"start\")\r\n      },\r\n      //longPressEnd\r\n      longPressEnd() {\r\n          const endTime = Date.now();\r\n          if (endTime - this.startTime < 2000) {\r\n              //time is not long enough\r\n              this.changeLockState();\r\n              return;\r\n          }\r\n          else {\r\n              if (!this.isPoweredOff) {\r\n                  //if phone is on, send request to power off\r\n                  this.$emit(\"showPowerOffModal\");\r\n              }\r\n              else {\r\n                  //phone is powered off, turn it on\r\n                  this.setPoweroffState(false);\r\n                  this.$emit(\"showPowerOnAnimation\");\r\n              }\r\n          }\r\n      },\r\n      ...mapMutations({\r\n          setLockState: 'LOCK_STATE',\r\n          setPoweroffState: 'POWER_OFF_STATE',\r\n          setIsUnlockRequested: 'SET_IS_UNLOCK_REQUESTED',\r\n          setIsBlackScreen:'SET_IS_BLACK_SCREEN'\r\n      })\r\n  },\r\n  computed: {\r\n      ...mapGetters([\r\n        'isPoweredOff',\r\n        'isLocked',\r\n        'isUnlockRequested',\r\n        'isBlackScreen'\r\n      ])\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n"],"sourceRoot":"src/components"}]}